var contentPreview,pageInfo,clipper,clipResultCoordinator,feedbackFormCoordinator,coordinator;
function init(){function h(){var a=!1,b=document.querySelector("embed");if(b&&/application\/pdf/i.test(b.type))a=!0;else if(/^https?:\/\/docs\.google\.com\/viewer\?url=.+/.test(document.location.href))for(b=0;b<document.scripts.length;b++)if(/gviewApp\.setFileData/.test(document.scripts[b].innerText)){/mimeType.+application\/pdf/.test(document.scripts[b].innerText)&&(a=!0);break}Browser.sendToExtension({name:"togglePDFContextMenuOption",show:a})}function d(){if(e&&f&&g&&!k&&(k=!0,SAFARI||h(),pageInfo=
new PageInfo,contentPreview=new ContentPreview,clipper=new Clipper,clipResultCoordinator=new ClipResultCoordinator,feedbackFormCoordinator=new FeedbackFormCoordinator,coordinator=new Coordinator,checkSimSearch(),SAFARI)){var a=document.createElement("link");a.type="text/css";a.rel="stylesheet";a.href=Browser.extension.getURL("css/variable_coordinator.css");document.head.appendChild(a);a=document.createElement("link");a.type="text/css";a.rel="stylesheet";a.href=Browser.extension.getURL("content/clip_result/variable_iframe.css");
document.head.appendChild(a)}}var f=!1,e=!1,g="undefined"===typeof document.hidden?!0:!document.hidden,k=!1,l;if(SAFARI){if(window&&window!=window.parent)return;Browser.sendToExtension({name:"main_getL10n"})}else e=!0,d();Browser.addMessageHandlers({l10nData:function(a,b,c){a.data&&Browser.i18n._setL10nData(a.data);e=!0;d()}});var c=function(){f||(f=!0,clearInterval(l),document.head||(Browser.sendToExtension({name:"insertCSS",filename:"content/clip_result/iframe.css"}),Browser.sendToExtension({name:"insertCSS",
filename:"css/contentpreview.css"})),d())};"interactive"==document.readyState||"complete"==document.readyState?c():(window.addEventListener("DOMContentLoaded",c),document.addEventListener("readystatechange",function(){"interactive"!=document.readyState&&"complete"!=document.readyState||c()}),l=setInterval(function(){"interactive"!=document.readyState&&"complete"!=document.readyState||c()},100),window.addEventListener("focus",function(){h()}));document.addEventListener("visibilitychange",function(){g=
!document.hidden||g;d()})}Browser.runIfInTopFrame(init);
