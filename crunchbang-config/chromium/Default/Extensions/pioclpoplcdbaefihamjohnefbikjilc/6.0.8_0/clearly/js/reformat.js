function initClearlyComponent__reformat(g){if(!g)return!1;$R=g;switch(!0){case !$R.settings:case !$R.settings.cssPath:case !$R.window:case !$R.document:case !$R.document.body:case !$R.jQuery:return $R.debug&&(console.log(!$R.settings),console.log(!$R.settings.cssPath),console.log(!$R.window),console.log(!$R.document),console.log(!$R.document.body),console.log(!$R.jQuery)),!1}$R.settings.onCreateFrameUseThisId||($R.settings.onCreateFrameUseThisId="clearly_frame");$R.settings.onCreateFrameDoNotInsertCSS||
($R.settings.onCreateFrameDoNotInsertCSS=!1);$R.settings.pageLabel||($R.settings.pageLabel="Page ");$=$R.jQuery;$R.$window=$($R.window);$R.$document=$($R.document);$R.pagesCount=0;$R.footnotedLinksCount;$R.debug=$R.debug||!1;$R.debugRemembered={};$R.debugTimers=[];if($R.debug){switch(!0){case !(!$R.window.console||!$R.window.console.log):$R.writeLog=function(a){$R.window.console.log(a)};break;case !(!$R.window.opera||!$R.window.opera.postError):$R.writeLog=function(a){$R.window.opera.postError(a)};
break;default:$R.writeLog=function(a){}}$R.log=function(){if($R.debug){for(var a=0,c=arguments.length;a<c;a++)$R.writeLog(arguments[a]);$R.writeLog("-----------------------------------------")}};$R.debugRemember=function(a,c){$R.debugRemembered[a]=c}}else $R.writeLog=function(){return!1},$R.log=function(){return!1},$R.debugRemember=function(){return!1};$R.encode=function(a){return""==a?"none":encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,
"%2A")};$R.decode=function(a){return"none"==a?"":decodeURIComponent(a)};$R.availableThemes||($R.availableThemes={newsprint:{text_font:$R.encode('"PT Serif"'),text_font_header:$R.encode('"PT Serif"'),text_font_monospace:$R.encode("Inconsolata"),text_size:$R.encode("16px"),text_line_height:$R.encode("1.5em"),box_width:$R.encode("36em"),color_background:$R.encode("#f3f2ee"),color_text:$R.encode("#1f0909"),color_links:$R.encode("#065588"),text_align:$R.encode("normal"),base:$R.encode("base__newsprint"),
footnote_links:$R.encode("on_print"),large_graphics:$R.encode("do_nothing"),custom_css:$R.encode("#text #articleHeader { border-color: #c5c5c5; }#text #relatedNotes { border-color: rgba(197, 197, 197, 0.5); }#text blockquote { border-color: #bababa; color: #656565; }#text thead { background-color: #dadada; }#text tr:nth-child(even) { background: #e8e7e7; }#text hr { border-color: #c5c5c5; }")},notable:{text_font:$R.encode("Helvetica, Arial"),text_font_header:$R.encode("Helvetica, Arial"),text_font_monospace:$R.encode('"Droid Sans Mono"'),
text_size:$R.encode("14px"),text_line_height:$R.encode("1.5em"),box_width:$R.encode("42em"),color_background:$R.encode("#fff"),color_text:$R.encode("#333"),color_links:$R.encode("#090"),text_align:$R.encode("normal"),base:$R.encode("base__notable"),footnote_links:$R.encode("on_print"),large_graphics:$R.encode("do_nothing"),custom_css:$R.encode("#text #articleHeader { border-color: #000; }#text #relatedNotes { border-color: rgba(0, 0, 0, 0.25); }#text h1 { color: #000; }#text h2, #text h3, #text h4, #text h5, #text h6 { color: #444; }#text blockquote { border-color: #d1d1d1; }#text thead { background-color: #444; color: #fff; }#text tr:nth-child(even) { background: #d1d1d1; }#text hr { border-color: #000; }")},
night_owl:{text_font:$R.encode('"PT Serif"'),text_font_header:$R.encode('"PT Serif"'),text_font_monospace:$R.encode("Inconsolata"),text_size:$R.encode("16px"),text_line_height:$R.encode("1.5em"),box_width:$R.encode("36em"),color_background:$R.encode("#2d2d2d"),color_text:$R.encode("#e3e3e3"),color_links:$R.encode("#e3e3e3"),text_align:$R.encode("normal"),base:$R.encode("base__night_owl"),footnote_links:$R.encode("on_print"),large_graphics:$R.encode("do_nothing"),custom_css:$R.encode("#text #articleHeader { border-color: #c5c5c5; }#text #relatedNotes { border-color: rgba(197, 197, 197, 0.5); }#text a:link { -webkit-transition: all 0.3s ease; -moz-transition: all 0.3s ease; -o-transition: all 0.3s ease; }#text #relatedNotes a { -webkit-transition-duration: 0s; -moz-transition-duration: 0s; -o-transition-duration: 0s; }#text a:hover, #text a:active {\tcolor: #44bde8; }#text blockquote { color: #c1bfbf; border-color: #c1bfbf; }#text thead { background-color: #4f4f4f; }#text tr:nth-child(even) { background: #404040; }#text hr { border-color: #c5c5c5; }")}});
$R.availableFontSizes||($R.availableFontSizes={small:{newsprint:"12px",notable:"12px",night_owl:"12px"},medium:{newsprint:"16px",notable:"16px",night_owl:"16px"},large:{newsprint:"20px",notable:"20px",night_owl:"20px"}});(function(){if(!$R.availableGoogleFonts){var a="Arvo;Bentham;Cardo;Copse;Corben;Crimson Text;Droid Serif;Goudy Bookletter 1911;Gruppo;IM Fell;Josefin Slab;Kreon;Meddon;Merriweather;Neuton;OFL Sorts Mill Goudy TT;Old Standard TT;Philosopher;PT Serif;Radley;Tinos;Vollkorn;Allerta;Anton;Arimo;Bevan;Buda;Cabin;Cantarell;Coda;Cuprum;Droid Sans;Geo;Josefin Sans;Lato;Lekton;Molengo;Nobile;Orbitron;PT Sans;Puritan;Raleway;Syncopate;Ubuntu;Yanone Kaffeesatz;Anonymous Pro;Cousine;Droid Sans Mono;Inconsolata".split(";");
$R.availableGoogleFonts={};for(var c=0,b=a.length;c<b;c++)$R.availableGoogleFonts[a[c]]=1}})();$R.defaultOptions={text_font:$R.encode('"PT Serif"'),text_font_header:$R.encode('"PT Serif"'),text_font_monospace:$R.encode("Inconsolata"),text_size:$R.encode("16px"),text_line_height:$R.encode("1.5em"),box_width:$R.encode("36em"),color_background:$R.encode("#f3f2ee"),color_text:$R.encode("#1f0909"),color_links:$R.encode("#065588"),text_align:$R.encode("normal"),base:$R.encode("base__newsprint"),footnote_links:$R.encode("on_print"),
large_graphics:$R.encode("do_nothing"),custom_css:""};$R.getCSSFromOptions=function(a){return("#body { font-family: [=text_font]; font-size: [=text_size]; line-height: [=text_line_height]; color: [=color_text]; text-align: "+("justified"==a.text_align?"justify":"left")+"; } #background { background-color: [=color_background]; } .setTextColorAsBackgroundColor { background-color: [=color_text]; } .setBackgroundColorAsTextColor { color: [=color_background]; } #box, .setBoxWidth { width: [=box_width]; } a { color: [=color_links]; } a:visited { color: [=color_text]; } @media print { body.footnote_links__on_print a, body.footnote_links__on_print a:hover { color: [=color_text] !important; text-decoration: none !important; } } body.footnote_links__always a, body.footnote_links__always a:hover { color: [=color_text] !important; text-decoration: none !important; } img { border-color: [=color_text]; } a img { border-color: [=color_links]; } a:visited img { border-color: [=color_text]; } h1 a, h2 a, a h1, a h2 { color: [=color_text]; } h1, h2, h3, h4, h5, h6 { font-family: [=text_font_header]; } pre { background-color: [=color_background]; } pre, code { font-family: [=text_font_monospace]; } hr { border-color: [=color_text]; } html.rtl #body #text { text-align: "+
("justified"==a.text_align?"justify":"right")+" !important; } h1, h2, h3, h4, h5, h6 { text-align: left; } html.rtl h1, html.rtl h2, html.rtl h3, html.rtl h4, html.rtl h5, html.rtl h6 { text-align: right !important; } [=custom_css] ").replace(/\[=([a-z_]+?)\]/gi,function(c,b){return a[b]})};$R.appliedOptions={};$R.loadedGoogleFonts={};$R.applyOptions=function(a){var c=$R.defaultOptions;a||(a={});for(var b in c)switch(!0){case !(b in a):case !(""<a[b]):a[b]=$R.appliedOptions[b]?$R.appliedOptions[b]:
c[b]}var d=!1,e=!1,f={};switch(!0){case !("base"in $R.appliedOptions):case a.base!=$R.appliedOptions.base:d=!0}for(b in c){switch(!0){case !(b in $R.appliedOptions):case a[b]!=$R.appliedOptions[b]:e=!0}if(e)break}for(b in c)$R.appliedOptions[b]=a[b],f[b]=$R.decode(a[b]);d&&($R.$iframeDocument.find("#baseCSS").remove(),""<f.base&&$R.$iframeDocument.find("head").append('<link id="baseCSS" href="'+$R.settings.cssPath+f.base+'.css" rel="stylesheet" type="text/css" />'));e&&(a=$R.getCSSFromOptions(f),
$R.$iframeDocument.find("#optionsCSS").remove(),c=document.createElement("style"),c.setAttribute("type","text/css"),c.setAttribute("id","optionsCSS"),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),$R.$iframeDocument.find("head").append(c),$R.$iframeDocument.find("body").removeClass("footnote_links__on_print footnote_links__always footnote_links__never").removeClass("large_graphics__do_nothing large_graphics__hide_on_print large_graphics__hide_always").addClass("footnote_links__"+
f.footnote_links).addClass("large_graphics__"+f.large_graphics))};$R.getGoogleFontsFromOptions=function(a){var c={},b=[],d=function(a,b){b in $R.availableGoogleFonts&&(c[b]=1)};a.text_font.replace(/"([^",]+)"/gi,d);a.text_font.replace(/([^",\s]+)/gi,d);a.text_font_header.replace(/"([^",]+)"/gi,d);a.text_font_header.replace(/([^",\s]+)/gi,d);a.text_font_monospace.replace(/"([^",]+)"/gi,d);a.text_font_monospace.replace(/([^",\s]+)/gi,d);a.custom_css.replace(/font-family: "([^",]+)"/gi,d);a.custom_css.replace(/font-family: ([^",\s]+)/gi,
d);for(var e in c)b.push("http://fonts.googleapis.com/css?family="+e.replace(/\s+/g,"+")+":regular,bold,italic");return b};$R.loadGoogleFontsRequiredByAppliedOptions=function(){var a={},c;for(c in $R.appliedOptions)a[c]=$R.decode($R.appliedOptions[c]);a=$R.getGoogleFontsFromOptions(a);c=0;for(var b=a.length;c<b;c++)$R.loadedGoogleFonts[a[c]]||($R.$iframeDocument.find("head").append('<link href="'+a[c]+'" rel="stylesheet" type="text/css" />'),$R.loadedGoogleFonts[a[c]]=1)};$R.createFrame=function(){_frame_id=
$R.settings.onCreateFrameUseThisId;var a=$R.document.createElement("iframe"),c='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html id="html" xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" href="'+$R.settings.cssPath+'style.css" type="text/css" /></head><body id="body"><div id="bodyContent"><div id="box"><div id="box_inner"><div id="text"><div id="pages"></div><ol id="footnotedLinks"></ol></div></div></div><div id="background"></div></div></body></html>';
a.setAttribute("id",_frame_id);a.setAttribute("frameBorder","0");a.setAttribute("allowTransparency","true");a.setAttribute("scrolling","auto");if(!$R.settings.onCreateFrameDoNotInsertCSS){var b=$R.document.createElement("style"),d="#"+_frame_id+" { margin: 0; padding: 0; border: none; position: absolute; width: 10px; height: 10px; top: -100px; left: -100px; } ";b.setAttribute("id",_frame_id+"__css");b.setAttribute("type","text/css");b.styleSheet?b.styleSheet.cssText=d:b.appendChild($R.document.createTextNode(d))}d=
$R.document.getElementsByTagName("body")[0];b&&d.appendChild(b);d.appendChild(a);a=$R.document.getElementById(_frame_id);a=a.contentDocument||a.contentWindow.document;a.open();a.write(c);a.close();var e=!1,e=$R.window.setInterval(function(){var a=$R.document.getElementById(_frame_id);if(a){var b=a.contentDocument||a.contentWindow.document;b&&b.getElementById("bodyContent")&&($R.window.clearInterval(e),$R.iframe=a,$R.$iframe=$($R.iframe),$R.iframeDocument=b,$R.$iframeDocument=$($R.iframeDocument),
$R.iframeWindow=b.defaultView,$R.$iframeWindow=$($R.iframeWindow),$R.$iframeBox=$R.$iframeDocument.find("#box"),$R.$iframePages=$R.$iframeDocument.find("#pages"),$R.$iframeBackground=$R.$iframeDocument.find("#background"),$R.$iframeFootnotedLinks=$R.$iframeDocument.find("#footnotedLinks"),$R.callbacks.frameCreated&&$R.callbacks.frameCreated())}},250)};$R.addNewPage=function(a,c){var b=$R.pagesCount+1;$R.pagesCount++;1<b&&$R.$iframePages.append('<div class="pageSeparator"><div class="pageSeparatorLine setTextColorAsBackgroundColor"></div><div class="pageSeparatorLabel"><em>'+
$R.settings.pageLabel+b+"</em></div></div>");$R.$iframePages.append('<div class="page" id="page'+b+'"><div class="page_content">'+a+"</div></div>");$R.$iframeDocument.find("#page"+b).find("a").each(function(a,b){var c=b.href;if(""<c&&c.indexOf&&!(-1<c.indexOf("#"))){var g=++$R.footnotedLinksCount;$(b).append(' <sup class="readableLinkFootnote">['+g+"]</sup>");$R.$iframeFootnotedLinks.append("<li>"+c+"</li>")}})};$R.clearAllPages=function(){$R.pagesCount=0;$R.$iframePages.get(0).innerHTML="";$R.footnotedLinksCount=
0;$R.$iframeFootnotedLinks.get(0).innerHTML=""};return $R};
