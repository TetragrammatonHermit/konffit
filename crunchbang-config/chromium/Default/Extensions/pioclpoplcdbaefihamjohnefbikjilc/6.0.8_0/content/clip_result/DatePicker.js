function DatePicker(q,y){function z(){var a=document.createElement("div");a.id="dowHeader";for(var b=0;7>b;b++){var d=document.createElement("div");d.className="dow";d.innerText=Browser.i18n.getMessage(A[(n[m].firstDay+b)%7]).charAt(n[m].dowIndex||0).toUpperCase();a.appendChild(d)}return a}function r(){t.innerText=n[m].showMonthAfterYear?k+" "+Browser.i18n.getMessage(u[f]).toUpperCase():Browser.i18n.getMessage(u[f]).toUpperCase()+" "+k}function s(){var a=new Date(k,f,1),b=a.getDay()-n[m].firstDay;
0>b&&(b+=7);for(var a=new Date(a-864E5*b),b=0,d=!1,c=0;6>c;c++)for(var e=0;7>e;e++){var h;h=d?new Date(a-(6084E5*-c-864E5*e)):new Date(a-(6048E5*-c-864E5*e));b==h.getDate()&&(h=new Date(a-(6048E5*-c-9E7*e)),d=!0);b=h.getDate();g[c].children[e].innerText=h.getDate();g[c].children[e].removeAttribute("id");g[c].children[e].className=g[c].children[e].className.replace(/\s*(nextMonth|previousMonth|selected)/g,"");h.getMonth()>f?g[c].children[e].className+=" nextMonth":h.getMonth()<f?g[c].children[e].className+=
" previousMonth":(h.getMonth()==p.getMonth()&&h.getDate()==p.getDate()&&h.getFullYear()==p.getFullYear()&&(g[c].children[e].id="today"),l&&h.getMonth()==l.month&&h.getDate()==l.date&&h.getFullYear()==l.year&&(g[c].children[e].className+=" selected"))}}function v(){(f=(f+1)%12)||k++;r();s()}function w(){f=(f-1+12)%12;11==f&&k--;r();s()}function x(a,b){var d=q.querySelector(".day.selected");d&&(d.className=d.className.replace(/\s*selected/g,""));if(f!=a.getMonth()||k!=a.getFullYear())f=a.getMonth(),
k=a.getFullYear(),r(),s();for(var d=q.querySelectorAll(".day:nth-child("+(a.getDay()+1-n[m].firstDay||7)+")"),c=0;c<d.length;c++){var e=d.item(c);if(!(e.innerText!=a.getDate()&&e.textContent!=a.getDate()||/previousMonth/.test(e.className)||/nextMonth/.test(e.className))){e.className+=" selected";break}}l={month:a.getMonth(),date:a.getDate(),year:a.getFullYear()};y(l,b)}var n={da:{dateFormat:"dd-mm-yy",firstDay:1,showMonthAfterYear:!1},de:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},enau:{dateFormat:"dd/mm/yy",
firstDay:1,showMonthAfterYear:!1},engb:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},ennz:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},enus:{dateFormat:"mm/dd/yy",firstDay:0,showMonthAfterYear:!1},es:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},fi:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},frca:{dateFormat:"yy-mm-dd",firstDay:0,showMonthAfterYear:!1},frch:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},fr:{dateFormat:"dd/mm/yy",firstDay:1,
showMonthAfterYear:!1},hu:{dateFormat:"yy.mm.dd.",firstDay:1,showMonthAfterYear:!0},id:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},itch:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},it:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},ja:{dateFormat:"yy/mm/dd",firstDay:0,showMonthAfterYear:!0},ko:{dateFormat:"yy-mm-dd",firstDay:0,showMonthAfterYear:!0},ms:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},nb:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},
nlbe:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},nl:{dateFormat:"dd-mm-yy",firstDay:1,showMonthAfterYear:!1},pl:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},ptbr:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},pt:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},ro:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},ru:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},srsr:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},sr:{dateFormat:"dd.mm.yy",
firstDay:1,showMonthAfterYear:!1},sv:{dateFormat:"yy-mm-dd",firstDay:1,showMonthAfterYear:!1},th:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},tr:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},vi:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},zhcn:{dateFormat:"yy-mm-dd",dowIndex:2,firstDay:1,showMonthAfterYear:!0},zhhk:{dateFormat:"dd-mm-yy",dowIndex:2,firstDay:0,showMonthAfterYear:!0},zhtw:{dateFormat:"yy/mm/dd",dowIndex:2,firstDay:1,showMonthAfterYear:!0}},u="January February March April May June July August September October November December".split(" "),
A="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p=new Date,f=p.getMonth(),k=p.getFullYear(),m=window.navigator.language.replace(/[^a-z]/ig,"").toLowerCase();n[m]||(m="enus");var l,t,g=[];(function(){var a=document.createElement("div"),b=document.createElement("div");a.id="previous";a.addEventListener("click",w);b.id="next";b.addEventListener("click",v);var d=document.createElement("div");d.id="topRow";d.appendChild(a);d.appendChild(b);t=document.createElement("div");t.id="monthYearHeader";
d.appendChild(t);q.appendChild(d);q.appendChild(z());for(a=0;6>a;a++){g.push(document.createElement("div"));g[a].className="week";for(b=0;7>b;b++)d=document.createElement("div"),d.className="day",d.addEventListener("click",function(){/previousMonth/.test(this.className)?w():/nextMonth/.test(this.className)?v():x(new Date(k,f,parseInt(this.innerText||this.textContent)))}),g[a].appendChild(d);q.appendChild(g[a])}r();s()})();this.format=function(a){var b=a.getMonth()+1;10>b&&(b="&nbsp;"+b);var d=a.getDate();
10>d&&(d="&nbsp;"+d);var c=a.getFullYear();10>c?c="&nbsp;&nbsp;&nbsp;"+c:100>c?c="&nbsp;&nbsp;"+c:1E3>c&&(c="&nbsp;"+c);b=n[m].dateFormat.replace("mm",'<span id="selectedMonth">'+b+"</span>").replace("dd",'<span id="selectedDate">'+d+"</span>").replace("yy",'<span id="selectedYear">'+c)+"</span> ";b=0==a.getHours()||12==a.getHours()?b+'<span id="selectedHour">12</span>':10>a.getHours()%12?b+('<span id="selectedHour">&nbsp;'+a.getHours()%12+"</span>"):b+('<span id="selectedHour">'+a.getHours()%12+
"</span>");b=10>a.getMinutes()?b+(':<span id="selectedMinute">0'+a.getMinutes()+"</span> "):b+(':<span id="selectedMinute">'+a.getMinutes()+"</span> ");return b=12>a.getHours()?b+'<span id="selectedMeridian">AM</span>':b+'<span id="selectedMeridian">PM</span>'};this.selectDate=x;this.selectedDate=function(){return Boolean(l)};this.showTodayOrSelected=function(){l?(f=l.month,k=l.year):(f=p.getMonth(),k=p.getFullYear());r();s()};this.validate=function(a){return RegExp("^"+n[m].dateFormat.replace(/\//g,
"\\/").replace(/\./g,"\\.").replace(/(mm|dd)/g,"(\\s\\d|\\d{2})").replace("yy","(\\d{4})")+" (\\s\\d|\\d{2}):\\d{2} (AM|PM)$").test(a)};Object.preventExtensions(this)}Object.preventExtensions(DatePicker);
