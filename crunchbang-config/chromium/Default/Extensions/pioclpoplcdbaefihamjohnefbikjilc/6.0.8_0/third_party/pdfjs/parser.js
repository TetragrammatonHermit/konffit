var EOF={};function isEOF(f){return f==EOF}
var Parser=function(){function f(b,c,a){this.lexer=b;this.allowStreams=c;this.xref=a;this.refill()}f.prototype={refill:function(){this.buf1=this.lexer.getObj();this.buf2=this.lexer.getObj()},shift:function(){isCmd(this.buf2,"ID")?(this.buf1=this.buf2,this.buf2=null,this.lexer.skip()):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())},getObj:function(b){if(isCmd(this.buf1,"BI"))return this.shift(),this.makeInlineImage(b);if(isCmd(this.buf1,"[")){this.shift();for(b=[];!isCmd(this.buf1,"]")&&!isEOF(this.buf1);)b.push(this.getObj());
isEOF(this.buf1)&&error("End of file inside array");this.shift();return b}if(isCmd(this.buf1,"<<")){this.shift();for(var c=new Dict(this.xref);!isCmd(this.buf1,">>")&&!isEOF(this.buf1);){isName(this.buf1)||error("Dictionary key must be a name object");var a=this.buf1.name;this.shift();if(isEOF(this.buf1))break;c.set(a,this.getObj(b))}isEOF(this.buf1)&&error("End of file inside dictionary");if(isCmd(this.buf2,"stream"))return this.allowStreams?this.makeStream(c,b):c;this.shift();return c}if(isInt(this.buf1))return b=
this.buf1,this.shift(),isInt(this.buf1)&&isCmd(this.buf2,"R")&&(b=new Ref(b,this.buf1),this.shift(),this.shift()),b;if(isString(this.buf1))return c=this.buf1,this.shift(),b&&(c=b.decryptString(c)),c;b=this.buf1;this.shift();return b},makeInlineImage:function(b){for(var c=this.lexer.stream,a=new Dict;!isCmd(this.buf1,"ID")&&!isEOF(this.buf1);){isName(this.buf1)||error("Dictionary key must be a name object");var e=this.buf1.name;this.shift();if(isEOF(this.buf1))break;a.set(e,this.getObj(b))}for(var e=
c.pos,d=0,g;4!=d&&null!=(g=c.getByte());)switch(g){case 32:case 13:case 10:d=3===d?4:0;break;case 69:d=2;break;case 73:d=2===d?3:0;break;default:d=0}g=c.pos-4-e;c=c.makeSubStream(e,g,a);b&&(c=b.createStream(c));c=this.filter(c,a,g);c.parameters=a;this.buf2=Cmd.get("EI");this.shift();return c},fetchIfRef:function(b){return isRef(b)?this.xref.fetch(b):b},makeStream:function(b,c){var a=this.lexer,e=a.stream;a.skipToNextLine();var a=e.pos,d=this.fetchIfRef(b.get("Length"));isInt(d)||error("Bad "+d+" attribute in stream");
e.pos=a+d;this.shift();this.shift();isCmd(this.buf1,"endstream")||error("Missing endstream");this.shift();e=e.makeSubStream(a,d,b);c&&(e=c.createStream(e));e=this.filter(e,b,d);e.parameters=b;return e},filter:function(b,c,a){var e=this.fetchIfRef(c.get("Filter","F"));c=this.fetchIfRef(c.get("DecodeParms","DP"));if(isName(e))return this.makeFilter(b,e.name,a,c);if(isArray(e))for(var d=e,g=c,h=0,f=d.length;h<f;++h)e=d[h],isName(e)||error("Bad filter name: "+e),c=null,isArray(g)&&h in g&&(c=g[h]),b=
this.makeFilter(b,e.name,a,c),a=null;return b},makeFilter:function(b,c,a,e){if(0===b.dict.get("Length"))return new NullStream(b);if("FlateDecode"==c||"Fl"==c)return e?new PredictorStream(new FlateStream(b),e):new FlateStream(b);if("LZWDecode"==c||"LZW"==c)return c=1,e?(e.has("EarlyChange")&&(c=e.get("EarlyChange")),new PredictorStream(new LZWStream(b,c),e)):new LZWStream(b,c);if("DCTDecode"==c||"DCT"==c)return e=b.getBytes(a),new JpegStream(e,b.dict,this.xref);if("JPXDecode"==c||"JPX"==c)return e=
b.getBytes(a),new JpxStream(e,b.dict);if("ASCII85Decode"==c||"A85"==c)return new Ascii85Stream(b);if("ASCIIHexDecode"==c||"AHx"==c)return new AsciiHexStream(b);if("CCITTFaxDecode"==c||"CCF"==c)return new CCITTFaxStream(b,e);if("RunLengthDecode"==c||"RL"==c)return new RunLengthStream(b);if("JBIG2Decode"==c)return e=b.getBytes(a),new Jbig2Stream(e,b.dict);warn('filter "'+c+'" not supported yet');return b}};return f}(),Lexer=function(){function f(a,e){this.stream=a;this.knownCommands=e}function b(a){if("0"<=
a&&"9">=a)return a.charCodeAt(0)-48;a=a.toUpperCase();return"A"<=a&&"F">=a?a.charCodeAt(0)-55:-1}f.isSpace=function(a){return" "==a||"\t"==a||"\r"==a||"\n"==a};var c=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];f.prototype={getNumber:function(a){for(var e=!1,d=a,c=this.stream;a=c.lookChar();){if("."!=a||e)if("-"==a)warn("Badly formated number");else if("0"<=a&&"9">=a)d+=a;else if("e"==a||"E"==a)e=!0;else break;else d+=a,e=!0;c.skip()}a=parseFloat(d);isNaN(a)&&error("Invalid floating point number: "+a);return a},getString:function(){var a=
1,e=!1,d="",c=this.stream,b;do switch(b=c.getChar(),b){case void 0:warn("Unterminated string");e=!0;break;case "(":++a;d+=b;break;case ")":0==--a?e=!0:d+=b;break;case "\\":b=c.getChar();switch(b){case void 0:warn("Unterminated string");e=!0;break;case "n":d+="\n";break;case "r":d+="\r";break;case "t":d+="\t";break;case "b":d+="\b";break;case "f":d+="\f";break;case "\\":case "(":case ")":d+=b;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":var f=b-0;b=c.lookChar();"0"<=
b&&"7">=b&&(c.skip(),f=(f<<3)+(b-0),b=c.lookChar(),"0"<=b&&"7">=b&&(c.skip(),f=(f<<3)+(b-0)));d+=String.fromCharCode(f);break;case "\r":b=c.lookChar();"\n"==b&&c.skip();break;case "\n":break;default:d+=b}break;default:d+=b}while(!e);return d},getName:function(a){for(var e="",d=this.stream;(a=d.lookChar())&&!c[a.charCodeAt(0)];)if(d.skip(),"#"==a){a=d.lookChar();var g=b(a);if(-1!=g){d.skip();var f=b(d.getChar());-1==f&&error("Illegal digit in hex char in name: "+f);e+=String.fromCharCode(g<<4|f)}else e+=
"#",e+=a}else e+=a;128<e.length&&error("Warning: name token is longer than allowed by the spec: "+e.length);return new Name(e)},getHexString:function(a){for(var e="",d=this.stream;;){a=d.getChar();if(">"==a)break;if(!a){warn("Unterminated hex string");break}if(1!=c[a.charCodeAt(0)]){var f,h;-1==(f=b(a))&&error("Illegal character in hex string: "+a);for(a=d.getChar();1==c[a.charCodeAt(0)];)a=d.getChar();-1==(h=b(a))&&error("Illegal character in hex string: "+a);e+=String.fromCharCode(f<<4|h)}}return e},
getObj:function(){for(var a=!1,b=this.stream,d;;){if(!(d=b.getChar()))return EOF;if(a){if("\r"==d||"\n"==d)a=!1}else if("%"==d)a=!0;else if(1!=c[d.charCodeAt(0)])break}switch(d){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":case "+":case "-":case ".":return this.getNumber(d);case "(":return this.getString();case "/":return this.getName(d);case "[":case "]":return Cmd.get(d);case "<":return d=b.lookChar(),"<"==d?(b.skip(),Cmd.get("<<")):this.getHexString(d);
case ">":if(d=b.lookChar(),">"==d)return b.skip(),Cmd.get(">>");case "{":case "}":return Cmd.get(d);case ")":error("Illegal character: "+d)}var a=d,f=this.knownCommands,h=f&&a in f;for(;(d=b.lookChar())&&!c[d.charCodeAt(0)]&&(!h||a+d in f);)b.skip(),128==a.length&&error("Command token too long: "+a.length),a+=d,h=f&&a in f;return"true"==a?!0:"false"==a?!1:"null"==a?null:Cmd.get(a)},skipToNextLine:function(){for(var a=this.stream;;){var b=a.getChar();if(!b||"\n"==b)break;if("\r"==b){"\n"==a.lookChar()&&
a.skip();break}}},skip:function(){this.stream.skip()}};return f}(),Linearization=function(){function f(b){this.parser=new Parser(new Lexer(b),!1,null);b=this.parser.getObj();var c=this.parser.getObj(),a=this.parser.getObj();this.linDict=this.parser.getObj();isInt(b)&&isInt(c)&&isCmd(a,"obj")&&isDict(this.linDict)&&(b=this.linDict.get("Linearized"),isNum(b)&&0<b||(this.linDict=null))}f.prototype={getInt:function(b){var c=this.linDict,a;if(isDict(c)&&isInt(a=c.get(b))&&0<a)return a;error('"'+b+'" field in linearization table is invalid')},
getHint:function(b){var c=this.linDict,a,e;if(isDict(c)&&isArray(a=c.get("H"))&&2<=a.length&&isInt(e=a[b])&&0<e)return e;error("Hints table in linearization table is invalid: "+b)},get length(){return isDict(this.linDict)?this.getInt("L"):0},get hintsOffset(){return this.getHint(0)},get hintsLength(){return this.getHint(1)},get hintsOffset2(){return this.getHint(2)},get hintsLenth2(){return this.getHint(3)},get objectNumberFirst(){return this.getInt("O")},get endFirst(){return this.getInt("E")},get numPages(){return this.getInt("N")},
get mainXRefEntriesOffset(){return this.getInt("T")},get pageFirst(){return this.getInt("P")}};return f}();
