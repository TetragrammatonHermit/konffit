importScripts("../../third_party/pdfjs/cidmaps.js");importScripts("../../third_party/pdfjs/core.js");importScripts("../../third_party/pdfjs/image.js");importScripts("../../third_party/pdfjs/evaluator.js");importScripts("../../third_party/pdfjs/fonts.js");importScripts("../../third_party/pdfjs/glyphlist.js");importScripts("../../third_party/pdfjs/obj.js");importScripts("../../third_party/pdfjs/crypto.js");importScripts("../../third_party/pdfjs/parser.js");importScripts("../../third_party/pdfjs/pdf.js");
importScripts("../../third_party/pdfjs/jpg.js");importScripts("../../third_party/pdfjs/jpx.js");importScripts("../../third_party/pdfjs/jbig2.js");importScripts("../../third_party/pdfjs/stream.js");importScripts("../../third_party/pdfjs/colorspace.js");importScripts("../../third_party/pdfjs/util.js");importScripts("../../thrift/gen/Limits_types.js");importScripts("../GlobalUtils.js");
addEventListener("message",function(a){a=new PDFDocument(new Stream(a.data.pdf),null);for(var b=a.numPages,c="",e=Math.floor(EDAM_RELATED_PLAINTEXT_LEN_MAX/b),d=0;d<b;d++)c+=takePortionOfPage(GlobalUtils.removePunctuation(a.getPage(d+1).extractTextContent().bidiTexts).replace(/\s+/g," ").trim(),e);postMessage({type:"recommendationText",message:c})},!1);function takePortionOfPage(a,b){return 0>b?"":" "==a[b]||"undefined"==typeof a[b]?" "+a.slice(0,b):takePortionOfPage(a,b-1)};
