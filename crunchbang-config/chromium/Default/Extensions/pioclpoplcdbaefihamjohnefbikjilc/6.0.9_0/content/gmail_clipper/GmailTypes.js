function GmailThread(){var e=[],d={},f={},g;this.addMessage=function(b,a){isNaN(d[a])?d[a]=e.push(b)-1:e[d[a]]=b};this.addParticipants=function(b){for(var a=0;a<b.length;a++){var c=new GmailParticipant(b[a][0],b[a][1]);f[c.email]||(f[c.email]=c)}};this.removeMessages=function(b){for(var a=b.length-1;0<=a;a--)e.splice(d[b[a]],1),delete d[b[a]]};this.setSubject=function(b){g=b};this.__defineGetter__("messages",function(){return e});this.__defineGetter__("participants",function(){return f});this.__defineGetter__("subject",
function(){return g});Object.preventExtensions(this)}Object.preventExtensions(GmailThread);
function GmailMessage(e){var d=[],f,g,b;this.addAttachments=function(a){for(var c=0;c<a.length;c++)d.push(new GmailAttachment(a[c][2],a[c][1],a[c][3],e+a[c][9]))};this.setAuthorInfo=function(a,c){f=new GmailParticipant(a,c)};this.setBody=function(a){var c=document.createElement("div");c.innerHTML=a;a=c.querySelectorAll(".HOEnZb, .adm");for(var b=0;b<a.length;b++)a[b].parentNode&&a[b].parentNode.removeChild(a[b]);g=c.innerHTML};this.setDate=function(a){b=a};this.__defineGetter__("attachments",function(){return d});
this.__defineGetter__("author",function(){return f});this.__defineGetter__("body",function(){return g});this.__defineGetter__("date",function(){return b});Object.preventExtensions(this)}Object.preventExtensions(GmailMessage);function GmailParticipant(e,d){e||(e=d);this.__defineGetter__("email",function(){return d});this.__defineGetter__("name",function(){return e});Object.preventExtensions(this)}Object.preventExtensions(GmailParticipant);
function GmailAttachment(e,d,f,g){for(var b,a=["bytes","kB","MB","GB","TB"],c=0;c<a.length;c++)if(1>f/Math.pow(1024,c)){c=Math.max(0,c-1);b=parseFloat((f/Math.pow(1024,c)).toFixed(1))+" "+a[c];break}this.__defineGetter__("mime",function(){return e});this.__defineGetter__("name",function(){return d});this.__defineGetter__("size",function(){return b});this.__defineGetter__("url",function(){return g});Object.preventExtensions(this)}Object.preventExtensions(GmailAttachment);
